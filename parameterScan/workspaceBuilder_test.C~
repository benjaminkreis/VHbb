//C++
#include <iostream>

#include "TH1F.h"

//RooFit
#include "RooWorkspace.h"
#include "RooDataHist.h"
#include "RooRealVar.h"

using namespace std;
using namespace RooFit ;
//using namespace RooStats ;

void workspaceBuilder_test(){

  //Create workspace
  RooWorkspace ws("workspace");
  ws.autoImportClassCode(true);
  
  TH1F Sig_T_1("a","a", 100, 0, 100);

  //RooRealVar                                                                                                                                               
  double dLowX = Sig_T_1.GetXaxis()->GetXmin();
  double dHighX = Sig_T_1.GetXaxis()->GetXmax();
  RooRealVar D1("unrolledBin", "unrolledBin", dLowX, dHighX); //FIXME? channelName, FIXME? one per signal                                                    
  int dBinsX = Sig_T_1.GetXaxis()->GetNbins();
  D1.setBins(dBinsX);

  RooDataHist Sig_T_1_hist("T_1_hist", "", RooArgList(D1), &Sig_T_1);//FIXME? channelName
  
  ws.import(Sig_T_1_hist, RecycleConflictNodes());
  
    
  cout << "*****************BEN******************************" << endl;  
  ws.writeToFile("myWorkspace.root", true);
  cout << "*****************BEN******************************" << endl;  
return;
}
