#include "TLorentzVector.h"

double wBox[38]={0.0,0.00617702119052,0.0475687757134,0.0513401590288,0.0638395100832,0.0717616826296,0.0827983692288,0.0802293941379,0.0805631428957,0.0643110796809,0.0832321196795,0.11104208231,0.139668524265,0.180538862944,0.22096760571,0.268799066544,0.304893940687,0.360557198524,0.393813759089,0.468877792358,0.519210040569,0.593412876129,0.665525972843,0.721858203411,0.895541548729,0.939270377159,1.1775816679,1.44716024399,1.85298240185,2.21255278587,2.38104152679,3.49994325638,3.4690155983,3.74771356583,4.30427455902,5.61470174789,6.21260452271,8.28047847748};
double wTri[38]={0.0,1.4473990202,1.44670248032,1.4314109087,1.56654524803,1.58506917953,1.70830702782,1.63188743591,1.68959343433,1.53997242451,1.65649294853,1.7251714468,1.8290489912,1.91698014736,2.12207174301,2.13674688339,2.27239751816,2.46637558937,2.57685613632,2.68755173683,3.0090713501,3.15079569817,3.30782198906,3.28783369064,3.75589108467,3.7740085125,4.28923511505,4.80581665039,5.44997024536,5.7924747467,6.26782369614,8.83977127075,7.90727853775,8.27198600769,9.49384403229,11.6175689697,12.3674468994,13.9645595551};
double wBinMin[38]={0.0,200.0,225.0,250.0,275.0,300.0,310.0,320.0,330.0,340.0,350.0,360.0,370.0,380.0,390.0,400.0,410.0,420.0,430.0,440.0,450.0,460.0,470.0,480.0,490.0,500.0,525.0,550.0,575.0,600.0,625.0,650.0,675.0,700.0,725.0,750.0,775.0,800.0};
double wBinMax[38]={200.0,225.0,250.0,275.0,300.0,310.0,320.0,330.0,340.0,350.0,360.0,370.0,380.0,390.0,400.0,410.0,420.0,430.0,440.0,450.0,460.0,470.0,480.0,490.0,500.0,525.0,550.0,575.0,600.0,625.0,650.0,675.0,700.0,725.0,750.0,775.0,800.0,9000000000.0};

double getBoxWeight(double Vpt,double Veta,double Vphi,double Vmass,double Hpt,double Heta,double Hphi,double Hmass){
  TLorentzVector V;
  TLorentzVector H;
  V.SetPtEtaPhiM(Vpt,Veta,Vphi,Vmass);
  H.SetPtEtaPhiM(Hpt,Heta,Hphi,Hmass);
  TLorentzVector Vstar=V+H;
  
  int l=sizeof(wBox)/sizeof(wBox[0]);

  int lp=0;
  while(wBinMax[lp]<Vstar.M() && lp<l-1)
    lp++;

  return wBox[lp];
}

double getTriangleWeight(double Vpt,double Veta,double Vphi,double Vmass,double Hpt,double Heta,double Hphi,double Hmass){
  TLorentzVector V;
  TLorentzVector H;
  V.SetPtEtaPhiM(Vpt,Veta,Vphi,Vmass);
  H.SetPtEtaPhiM(Hpt,Heta,Hphi,Hmass);
  TLorentzVector Vstar=V+H;

  int l=sizeof(wBox)/sizeof(wBox[0]);

  int lp=0;
  while(wBinMax[lp]<Vstar.M() && lp<l-1)
    lp++;

  return wTri[lp];
}
